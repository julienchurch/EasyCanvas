function EC(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.tempCanvas=void 0,this.imageData=void 0}EC.prototype.createCanvas=function(t,a,e,i,h){var s,n,o;void 0!==e&&(s=e.data||e),n=document.createElement("canvas"),o=n.getContext("2d"),n.width=t,n.height=a,o.putImageData(e,i,h),this.canvas=n,this.ctx=o},EC.prototype.setCanvas=function(t){this.canvas=t,this.ctx=t.getContext("2d")},EC.prototype.resize=function(t,a){this.canvas.width=t,this.canvas.heght=a},EC.prototype.resizeTo=function(t){this.canvas.width=t.offsetWidth,this.canvas.height=t.offsetHeight},EC.prototype.styleAsBackground=function(t,a){this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.resizeTo(t),t.insertBefore(this.canvas,t.firstChild),void 0!==a&&this.drawCover(a)},EC.prototype.createCanvasAndResizeTo=function(t,a,e){var i=this.canvas.parentNode,h={width:i.offsetWidth,height:i.offsetHeight};createCanvas(h.width,h.height,t,a,e)},EC.prototype.putImageData=function(t,a,e){this.ctx.putImageData(t,a,e),this.imageData=t},EC.prototype.cacheImageData=function(){this.imageData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},EC.prototype.drawImage=function(t,a,e){this.ctx.drawImage(t,a,e),this.imageData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},EC.prototype.draw=function(t){this.ctx.drawImage(t,0,0),this.imageData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},EC.prototype.getDimensions=function(t){return"IMG"===t.nodeName?{width:t.naturalWidth,height:t.naturalHeight}:"CANVAS"===t.nodeName?{width:t.width,height:t.height}:void 0},EC.prototype.getAspectRatio=function(t){return dims=getDimensions(t),dims.width/dims.height},EC.prototype.drawCoverP=function(t,a){var e,i,h=t.getContext("2d"),s=getDimensions(t),n=(getDimensions(a),getAspectRatio(t)),o=getAspectRatio(a);o>n?(i=imgDims.width*(s.height/imgDims.height),e=(s.width-i)/2,h.drawImage(img,e,0,i,s.height)):n>o?(scaledHeight=imgDims.height*(s.width/imgDims.width),e=(s.height-scaledHeight)/2,h.drawImage(img,0,e,s.width,scaledHeight)):h.drawImage(img,0,0,s.width,s.height)},EC.prototype.drawCover=function(t){drawCoverP(this.canvas,img),this.imageData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},EC.prototype.createRoundedRect=function(t,a,e,i,h,s){var n={x:a+s,y:e+s},o={x:a+i-s,y:e+s},r={x:a+i-s,y:e+h-s},c={x:a+s,y:e+h-s};t.save(),t.beginPath(),t.moveTo(n.x,e),t.lineTo(o.x,e),t.arc(o.x,o.y,s,1.5*Math.PI,0),t.lineTo(a+i,r.y),t.arc(r.x,r.y,s,0,.5*Math.PI),t.lineTo(c.x,e+h),t.arc(c.x,c.y,s,.5*Math.PI,Math.PI),t.lineTo(a,o.y),t.arc(n.x,n.y,s,Math.PI,1.5*Math.PI),t.closePath()},EC.prototype.saturateP=function(t,a,e,i){var h;h=t.data||t;var s,n,o,r,c=.3*(1-a),g=.6*(1-a),d=.1*(1-a);s=void 0===e&&void 0===i?h.length/4:e*i;for(var v=0;s>v;v++){var p=v<<2;n=h[p],o=h[p+1],r=h[p+2],h[p]=(c+a)*n+g*o+d*r,h[p+1]=c*n+(g+a)*o+d*r,h[p+2]=c*n+g*o+(d+a)*r}return t},EC.prototype.saturate=function(t,a,e){var i=this.saturateP(this.imageData,t,a,e);this.ctx.putImageData(i,0,0)},EC.prototype.contrastP=function(t,a){for(var e=t.data,i=259*(a+255)/(255*(259-a)),h=0;h<e.length;h+=4)e[h]=i*(e[h]-128)+128,e[h+1]=i*(e[h+1]-128)+128,e[h+2]=i*(e[h+2]-128)+128;return t},EC.prototype.contrast=function(t){var a=this.contrastP(this.imageData,t);this.ctx.putImageData(a,0,0)},EC.prototype.blur=function(t,a){var e=this.canvas;if("stackblur"===t){var i=stackBlurCanvasRGB(e,0,0,e.width,e.height,a);this.ctx.putImageData(i.id,0,0),this.imageData=i.id}},EC.prototype.lightenP=function(t,a){for(var e=t.data,i=0;i<e.length;i+=4)e[i]+=a,e[i+1]+=a,e[i+2]+=a;return t},EC.prototype.lighten=function(t){var a=this.lightenP(this.imageData,t);this.ctx.putImageData(a,0,0)};var whatever=new EC;console.log(whatever);