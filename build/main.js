function EasyCanvas(){function a(a){return"IMG"===a.nodeName?{width:a.naturalWidth,height:a.naturalHeight}:"CANVAS"===a.nodeName?{width:a.width,height:a.height}:void 0}function t(t){return dims=a(t),dims.width/dims.height}function e(e,s){var n=e.getContext("2d"),i=a(e),r=a(s),l=t(e),o=t(s);if(o>l){var c=r.width*(i.height/r.height),h=(i.width-c)/2;n.drawImage(s,h,0,c,i.height)}else if(l>o){var d=r.height*(i.width/r.width),h=(i.height-d)/2;n.drawImage(s,0,h,i.width,d)}else n.drawImage(s,0,0,i.width,i.height)}function s(a,t,e,s){var n;n=a.data?a.data:a;var i,r,l,o,c=.3*(1-t),h=.6*(1-t),d=.1*(1-t);i=void 0===e&&void 0===s?n.length/4:e*s;for(var u=0;i>u;u++){var v=u<<2;r=n[v],l=n[v+1],o=n[v+2],n[v]=(c+t)*r+h*l+d*o,n[v+1]=c*r+(h+t)*l+d*o,n[v+2]=c*r+h*l+(d+t)*o}return a}function n(a,t){for(var e=a.data,s=259*(t+255)/(255*(259-t)),n=0;n<e.length;n+=4)e[n]=s*(e[n]-128)+128,e[n+1]=s*(e[n+1]-128)+128,e[n+2]=s*(e[n+2]-128)+128;return a}function i(a,t){for(var e=a.data,s=0;s<e.length;s+=4)e[s]+=t,e[s+1]+=t,e[s+2]+=t;return a}this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.tempCanvas=void 0,this.imageData=void 0,this.createCanvas=function(a,t,e,s,n){var i;void 0!==e&&(i=e.data?e.data:e);var r=document.createElement("canvas"),l=r.getContext("2d");void 0!==a&&void 0!==t&&(r.width=a,r.height=t),void 0!==i&&l.putImageData(e,void 0!==s?s:0,void 0!==n?n:0),this.canvas=r,this.ctx=l},this.setCanvas=function(a){this.canvas=a,this.ctx=a.getContext("2d")},this.size=function(a,t){this.canvas.width=a,this.canvas.height=t},this.sizeTo=function(a){this.canvas.width=a.offsetWidth,this.canvas.height=a.offsetHeight},this.styleAsBackground=function(a,t){this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.sizeTo(a),a.insertBefore(this.canvas,a.firstChild),void 0!==t&&this.drawCover(t)},this.createCanvasAndSizeTo=function(a,t,e){var s=this.canvas.parentNode,n={width:s.offsetWidth,height:s.offsetHeight};createCanvas(n.width,n.height,a,t,e)},this.putImageData=function(a,t,e){this.ctx.putImageData(a,t,e),this.imageData=a},this.cacheImageData=function(){this.imageData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},this.drawImage=function(a,t,e){this.ctx.drawImage(a,t,e),this.imageData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},this.draw=function(a){this.ctx.drawImage(a,0,0),this.imageData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},this.drawCover=function(a){e(this.canvas,a),this.imageData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},this.saturate=function(a,t,e){var n=s(this.imageData,a,t,e);this.ctx.putImageData(n,0,0)},this.contrast=function(a){var t=n(this.imageData,a);this.ctx.putImageData(t,0,0)},this.blur=function(a,t){var e=this.canvas;if("stackblur"===a){var s=stackBlurCanvasRGB(e,0,0,e.width,e.height,t);this.ctx.putImageData(s.id,0,0),this.imageData=s.id}},this.lighten=function(a){var t=i(this.imageData,a);this.ctx.putImageData(t,0,0)}}function BlurFx(a){function t(a){var t=new EasyCanvas;return t.canvas.width=a.canvas.width,t.canvas.height=a.canvas.height,t.ctx.drawImage(a.canvas,0,0),t.cacheImageData(),t}var e,s,n;this.canvas=a.canvas,this.ctx=a.ctx;var r=t(a);e=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),this.cacheImageData=function(){s=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},this.getCachedImageData=function(){return s},this.setBlurStack=function(a){n=a},this.getBlurStack=function(){return n},this.setCanvas=function(a){"CANVAS"===a.nodeName&&(this.canvas=a,this.ctx=this.canvas.getContext("2d"))},this.createBlurStack=function(a,t){if("stackblur"===a){var e=new EasyCanvas,s=[r];for(e.canvas.width=this.canvas.width/8|0,e.canvas.height=this.canvas.height/8|0,e.ctx.drawImage(this.canvas,0,0,e.canvas.width,e.canvas.height),e.cacheImageData(),i=1;i<6;i++){var l;l=(t/8|0)/6*i<1?1:t/8/6*i;var o=stackBlurCanvasRGB(e.canvas,0,0,e.canvas.width,e.canvas.height,l).id;s[i]=new EasyCanvas,s[i].width=e.canvas.width,s[i].height=e.canvas.height,s[i].ctx.putImageData(o,0,0),s[i].cacheImageData(),s[i].blurLayerId=i}n=s}},this.animateF=function(a){var t=this,e=1,s=n.length-2,i=a/s|0?a/s|0:10,r=setInterval(function(){e<n.length?window.requestAnimationFrame(function(){t.ctx.drawImage(n[e].canvas,0,0,8*n[e].canvas.width+10,8*n[e].canvas.height|0),e++}):clearInterval(r)},i)},this.animateB=function(a){var t=this,e=n.length-2,s=n.length-2,i=a/s|0?a/s|0:10,r=setInterval(function(){e>0?(t.ctx.drawImage(n[e].canvas,0,0,8*n[e].canvas.width|0,8*n[e].canvas.height|0),e--):(t.ctx.drawImage(n[e].canvas,0,0,t.canvas.width,t.canvas.height),clearInterval(r))},i)}}function splashCanvasCallback(){var a=document.getElementById("splash"),t=(document.querySelector(".splash--overlay"),document.getElementById("splash--utilities"));StraylightUI.createBlurredOverlay(a,t,splashImage,90,2.5),a.insertBefore(splashCanvas.canvas,a.firstChild),splashCanvas.styleAsBackground(a,splashImage),splashCanvas.cacheImageData(),splashBlurFx=new BlurFx(splashCanvas),splashBlurFx.createBlurStack("stackblur",120),window.UICanvas=StraylightUI.createBlurredTempCanvas(splashCanvas.canvas,90);for(var e=document.querySelectorAll(".splash-utility--icon .overlay"),s=0;s<e.length;s++)e[s].className=e[s].getAttribute("class")+" overlay-light";for(var n=document.getElementsByClassName("board-image"),s=0;s<n.length;s++)StraylightUI.createBoardImageBlurredOverlay(n[s],50,2)}function splashCanvasResizeCallback(){splashCanvas.sizeTo(splash),splashCanvas.drawCover(splashImage)}function dd(a,t,e){function s(a,t){return null===a?!1:a.parentNode===t?!0:s(a.parentNode,t)}function n(a){classie.has(a,"closed")&&classie.remove(a,"closed"),classie.add(a,"opened"),r=!0}function i(a){classie.has(a,"opened")&&classie.remove(a,"opened"),classie.add(a,"closed"),r=!1}var r=!1;this.target=a,this.dropdown=t,this.open=function(){args=Array.prototype.slice.call(arguments).filter(function(a){return void 0!==a}),args.map(n)},this.close=function(){args=Array.prototype.slice.call(arguments),args.map(i)},window.addEventListener("mouseup",function(e){(e.target!==t&&!s(e.target,t)||!r)&&((e.target===a||s(e.target,a))&&r?this.close(a,t):e.target!==a&&!s(e.target,a)||r?e.target!==t&&r&&this.close(a,t):this.open(a,t))}.bind(this))}function galleryBlur(a){var t=this;this.canvas=document.getElementById(a),this.ctx=this.canvas.getContext("2d"),this.container=this.canvas.parentNode.parentNode,this.image=this.container.firstChild,this.blurcomplete=!1,this.canvas.width=this.container.offsetWidth,this.canvas.height=this.container.offsetHeight,this.ctx.drawImage(this.image,0,this.image.naturalHeight/2*.9,this.image.naturalWidth,this.image.naturalHeight,0,this.canvas.height/2*.9,this.canvas.width,this.canvas.height),this.getDims=function(){return{x:this.canvas.width,y:this.canvas.height}},this.resize=function(){this.canvas.width=this.container.offsetWidth,this.canvas.height=this.container.offsetHeight},this.container.addEventListener("mouseover",function(){t.blurcomplete||(console.log(t.blurcomplete),t.ctx.putImageData(stackBlurCanvasRGB(a,0,0,t.container.offsetWidth,t.container.offsetHeight,40).id,0,0)),classie.add(t.canvas,"visible"),t.blurcomplete=!0,console.log(t.blurcomplete)}),this.container.addEventListener("mouseout",function(){classie.remove(t.canvas,"visible")})}function uploadImage(a){function t(a){var t=["image/jpg","image/jpeg","image/png","image/gif"];return t.indexOf(a.type)>-1?!0:!1}function e(a,t){console.log(t),a.onload=function(a){t.setAttribute("src",a.target.result)}}function s(a){return a.files&&a.files[0]?!0:!1}var n=new FileReader,i=a.querySelector(".file-input"),r=a.querySelector(".img-uploadable");i.addEventListener("change",function(){if(s(i)){var a=i.files[0];t(a)&&(e(n,r),n.readAsDataURL(a))}})}function profileCanvasCallback(){}function query(a){return document.querySelector("."+a)}function setCanvasToContainerDims(a,t){a.width=t.offsetWidth,a.height=t.offsetHeight}function stackBlurImage(a,t,e,s){var n=img.naturalWidth,i=img.naturalHeight,r=document.getElementById(t);r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i;var l=r.getContext("2d");l.clearRect(0,0,n,i),l.drawImage(img,0,0),isNaN(e)||1>e||(s?stackBlurCanvasRGBA(t,0,0,n,i,e):stackBlurCanvasRGB(t,0,0,n,i,e))}function stackBlurCanvasRGBA(a,t,e,s,n,i){if(!(isNaN(i)||1>i)){i|=0;var r,l=document.getElementById(a),o=l.getContext("2d");try{try{r=o.getImageData(t,e,s,n)}catch(c){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),r=o.getImageData(t,e,s,n)}catch(c){throw alert("Cannot access local image"),new Error("unable to access local image data: "+c)}}}catch(c){throw alert("Cannot access image"),new Error("unable to access image data: "+c)}var h,d,u,v,g,m,f,p,w,C,y,b,B,x,I,E,D,S,k,A,R,N,W,U,H=r.data,L=i+i+1,T=s-1,q=n-1,M=i+1,O=M*(M+1)/2,z=new BlurStack,F=z;for(u=1;L>u;u++)if(F=F.next=new BlurStack,u==M)var G=F;F.next=z;var P=null,_=null;f=m=0;var V=mul_table[i],j=shg_table[i];for(d=0;n>d;d++){for(E=D=S=k=p=w=C=y=0,b=M*(A=H[m]),B=M*(R=H[m+1]),x=M*(N=H[m+2]),I=M*(W=H[m+3]),p+=O*A,w+=O*R,C+=O*N,y+=O*W,F=z,u=0;M>u;u++)F.r=A,F.g=R,F.b=N,F.a=W,F=F.next;for(u=1;M>u;u++)v=m+((u>T?T:u)<<2),p+=(F.r=A=H[v])*(U=M-u),w+=(F.g=R=H[v+1])*U,C+=(F.b=N=H[v+2])*U,y+=(F.a=W=H[v+3])*U,E+=A,D+=R,S+=N,k+=W,F=F.next;for(P=z,_=G,h=0;s>h;h++)H[m+3]=W=y*V>>j,0!=W?(W=255/W,H[m]=(p*V>>j)*W,H[m+1]=(w*V>>j)*W,H[m+2]=(C*V>>j)*W):H[m]=H[m+1]=H[m+2]=0,p-=b,w-=B,C-=x,y-=I,b-=P.r,B-=P.g,x-=P.b,I-=P.a,v=f+((v=h+i+1)<T?v:T)<<2,E+=P.r=H[v],D+=P.g=H[v+1],S+=P.b=H[v+2],k+=P.a=H[v+3],p+=E,w+=D,C+=S,y+=k,P=P.next,b+=A=_.r,B+=R=_.g,x+=N=_.b,I+=W=_.a,E-=A,D-=R,S-=N,k-=W,_=_.next,m+=4;f+=s}for(h=0;s>h;h++){for(D=S=k=E=w=C=y=p=0,m=h<<2,b=M*(A=H[m]),B=M*(R=H[m+1]),x=M*(N=H[m+2]),I=M*(W=H[m+3]),p+=O*A,w+=O*R,C+=O*N,y+=O*W,F=z,u=0;M>u;u++)F.r=A,F.g=R,F.b=N,F.a=W,F=F.next;for(g=s,u=1;i>=u;u++)m=g+h<<2,p+=(F.r=A=H[m])*(U=M-u),w+=(F.g=R=H[m+1])*U,C+=(F.b=N=H[m+2])*U,y+=(F.a=W=H[m+3])*U,E+=A,D+=R,S+=N,k+=W,F=F.next,q>u&&(g+=s);for(m=h,P=z,_=G,d=0;n>d;d++)v=m<<2,H[v+3]=W=y*V>>j,W>0?(W=255/W,H[v]=(p*V>>j)*W,H[v+1]=(w*V>>j)*W,H[v+2]=(C*V>>j)*W):H[v]=H[v+1]=H[v+2]=0,p-=b,w-=B,C-=x,y-=I,b-=P.r,B-=P.g,x-=P.b,I-=P.a,v=h+((v=d+M)<q?v:q)*s<<2,p+=E+=P.r=H[v],w+=D+=P.g=H[v+1],C+=S+=P.b=H[v+2],y+=k+=P.a=H[v+3],P=P.next,b+=A=_.r,B+=R=_.g,x+=N=_.b,I+=W=_.a,E-=A,D-=R,S-=N,k-=W,_=_.next,m+=s}return{id:r,tx:t,ty:e}}}function stackBlurCanvasRGB(a,t,e,s,n,i){if(!(isNaN(i)||1>i)){i|=0;var r,l=a.getContext("2d");try{try{r=l.getImageData(t,e,s,n)}catch(o){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),r=l.getImageData(t,e,s,n)}catch(o){throw alert("Cannot access local image"),new Error("unable to access local image data: "+o)}}}catch(o){throw alert("Cannot access image"),new Error("unable to access image data: "+o)}var c,h,d,u,v,g,m,f,p,w,C,y,b,B,x,I,E,D,S,k,A=r.data,R=i+i+1,N=s-1,W=n-1,U=i+1,H=U*(U+1)/2,L=new BlurStack,T=L;for(d=1;R>d;d++)if(T=T.next=new BlurStack,d==U)var q=T;T.next=L;var M=null,O=null;m=g=0;var z=mul_table[i],F=shg_table[i];for(h=0;n>h;h++){for(B=x=I=f=p=w=0,C=U*(E=A[g]),y=U*(D=A[g+1]),b=U*(S=A[g+2]),f+=H*E,p+=H*D,w+=H*S,T=L,d=0;U>d;d++)T.r=E,T.g=D,T.b=S,T=T.next;for(d=1;U>d;d++)u=g+((d>N?N:d)<<2),f+=(T.r=E=A[u])*(k=U-d),p+=(T.g=D=A[u+1])*k,w+=(T.b=S=A[u+2])*k,B+=E,x+=D,I+=S,T=T.next;for(M=L,O=q,c=0;s>c;c++)A[g]=f*z>>F,A[g+1]=p*z>>F,A[g+2]=w*z>>F,f-=C,p-=y,w-=b,C-=M.r,y-=M.g,b-=M.b,u=m+((u=c+i+1)<N?u:N)<<2,B+=M.r=A[u],x+=M.g=A[u+1],I+=M.b=A[u+2],f+=B,p+=x,w+=I,M=M.next,C+=E=O.r,y+=D=O.g,b+=S=O.b,B-=E,x-=D,I-=S,O=O.next,g+=4;m+=s}for(c=0;s>c;c++){for(x=I=B=p=w=f=0,g=c<<2,C=U*(E=A[g]),y=U*(D=A[g+1]),b=U*(S=A[g+2]),f+=H*E,p+=H*D,w+=H*S,T=L,d=0;U>d;d++)T.r=E,T.g=D,T.b=S,T=T.next;for(v=s,d=1;i>=d;d++)g=v+c<<2,f+=(T.r=E=A[g])*(k=U-d),p+=(T.g=D=A[g+1])*k,w+=(T.b=S=A[g+2])*k,B+=E,x+=D,I+=S,T=T.next,W>d&&(v+=s);for(g=c,M=L,O=q,h=0;n>h;h++)u=g<<2,A[u]=f*z>>F,A[u+1]=p*z>>F,A[u+2]=w*z>>F,f-=C,p-=y,w-=b,C-=M.r,y-=M.g,b-=M.b,u=c+((u=h+U)<W?u:W)*s<<2,f+=B+=M.r=A[u],p+=x+=M.g=A[u+1],w+=I+=M.b=A[u+2],M=M.next,C+=E=O.r,y+=D=O.g,b+=S=O.b,B-=E,x-=D,I-=S,O=O.next,g+=s}return{id:r}}}function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function viewBoxBlurCallback(){var a=document.getElementById("view-box--image"),t=document.getElementById("view-box"),e=document.getElementById("view-box--overlay");t.insertBefore(viewBoxCanvas.canvas,e),t.insertBefore(tmpCanvas.canvas,viewBoxCanvas.canvas),viewBoxCanvas.canvas.style.position="absolute",tmpCanvas.canvas.style.position="absolute",viewBoxCanvas.sizeTo(t),tmpCanvas.size(t.offsetWidth>>3,t.offsetHeight>>3),tmpCanvas.drawCover(a),tmpCanvas.lighten(100),tmpCanvas.saturate(3),tmpCanvas.blur("stackblur",11),viewBoxCanvas.ctx.drawImage(tmpCanvas.canvas,0,0,viewBoxCanvas.canvas.width,viewBoxCanvas.canvas.height),window.UICanvas=tmpCanvas}function viewBoxLayoutHeaderDropdownCallback(){var a=document.getElementById("view-box--image"),t=document.getElementById("layout-header--dropdown");t.insertBefore(dropdownCanvas.canvas,t.firstChild),dropdownCanvas.canvas.style.position="absolute",dropdownCanvas.canvas.style.top="0",dropdownCanvas.canvas.style.left="0",dropdownCanvas.canvas.style.borderRadius="3px",dropdownCanvas.canvas.width=t.offsetWidth,dropdownCanvas.canvas.height=t.offsetHeight,dropdownCanvas.ctx.fillStyle="black",dropdownCanvas.ctx.fillRect(0,0,dropdownCanvas.canvas.width,dropdownCanvas.canvas.height),dropdownCanvas.ctx.drawImage(a,275+(a.width-Math.min(970,document.body.offsetWidth))/2-a.width,131,a.width,a.height),dropdownCanvas.imageData=dropdownCanvas.ctx.getImageData(0,0,dropdownCanvas.canvas.width,dropdownCanvas.canvas.height),dropdownCanvas.saturate(4),dropdownCanvas.lighten(50),dropdownCanvas.blur("stackblur",50)}var uploadImagesButton=document.querySelector(".splash .utilities button.button"),SplashOverlay=function(a){function t(){return c}function e(){c=!c}function s(a){for(var t=0;t<a.length;t++)classie.has(a[t],"hidden")||classie.has(a[t],"visible")?(classie.toggle(a[t],"hidden"),classie.toggle(a[t],"visible")):classie.add(a[t],"hidden")}function n(){classie.toggle(a,"open"),classie.toggle(a,"close")}function i(){}function r(){}function l(a,l,c){l.addEventListener(a,function(){t()?(i(o),n(),splashBlur.animateBlurB(100),s(hideableAssets),e()):(splashBlur.animateBlurF(100),s(hideableAssets),n(),r(o),o=void 0===!c?c:"Something went wrong.",e())})}var o,c=!1,h=[].slice.call(document.querySelectorAll(".followers .img-wrapper")),d=document.querySelector(".followers span");return h1=document.querySelector("h1"),hideableAssets=[],hideableAssets.push(h1),hideableAssets.push(uploadImagesButton),hideableAssets.push(d),hideableAssets=hideableAssets.concat(h),{isOpen:t,toggleState:e,attachEvent:l}}(document.getElementById("splash-overlay")),Util=function(){function a(a){return{width:a.offsetWidth,height:a.offsetHeight}}function t(){function a(a,t){s=a,n=t}function t(){clearTimeout(e),e=setTimeout(s,n)}var e,s,n;return{createEnv:a,execute:t}}return{getDims:a,callAfterFinalResize:t}}(),blurFx=function(){function a(a,e,s){r=a,l=a.getContext("2d"),o=s,h={id:l.getImageData(0,0,r.width,r.height),tx:0,ty:0},c=t(e)}function t(a){var t=[h,o(Math.round(a/5)),o(Math.round(a/4)),o(Math.round(a/3)),o(Math.round(a/2)),o(Math.round(a))];return t}function e(a,t){c[a]=t}function s(){return c}function n(a){var t=1,e=0===Math.round(a/4)?1:Math.round(a/4);return setInterval(function(){t<c.length?(l.putImageData(c[t].id,c[t].tx,c[t].ty),t++):clearInterval(n)},e)}function i(a){var t=c.length-2,e=0===Math.round(a/4)?1:Math.round(a/4);return setInterval(function(){t>=0?(l.putImageData(c[t].id,c[t].tx,c[t].ty),t--):clearInterval(i)},e)}var r,l,o,c,h;return{createEnv:a,canvas:r,ctx:l,createBlurStack:t,updateBlurStack:e,getBlurStack:s,animateBlurF:n,animateBlurB:i}},boardScripts=function(){function a(){var a=document.getElementById("splash"),t=(document.querySelector(".splash--overlay"),document.getElementById("splash--utilities"));StraylightUI.createBlurredOverlay(a,t,n,90,2.5),a.insertBefore(e.canvas,a.firstChild),e.styleAsBackground(a,n),e.cacheImageData(),splashBlurFx=new BlurFx(e),splashBlurFx.createBlurStack("stackblur",120),window.UICanvas=StraylightUI.createBlurredTempCanvas(e.canvas,90);for(var s=document.querySelectorAll(".splash-utility--icon .overlay"),i=0;i<s.length;i++)s[i].className=s[i].getAttribute("class")+" overlay-light";for(var r=document.getElementsByClassName("board-image"),i=0;i<r.length;i++)StraylightUI.createBoardImageBlurredOverlay(r[i],50,2)}function t(){e.sizeTo(splash),e.drawCover(n)}var e=new EasyCanvas,s=new EasyCanvas,n=new Image;return e.canvas.setAttribute("id","splash--canvas"),s.canvas.setAttribute("id","splash--canvas-tmp"),n.src=window.UIAttributes.canvasImageURL,{splashCanvasCallback:a,splashCanvasResizeCallback:t}}(),splashCanvas=new EasyCanvas,splashTmpCanvas=new EasyCanvas,splashImage=new Image;splashCanvas.canvas.setAttribute("id","splash--canvas"),splashTmpCanvas.canvas.setAttribute("id","splash--canvas-tmp"),splashImage.src=window.UIAttributes.canvasImageURL;var canvasIP=function(){function a(a){return"IMG"===a.nodeName?{width:a.naturalWidth,height:a.naturalHeight}:"CANVAS"===a.nodeName?{width:a.offsetWidth,height:a.offsetHeight}:void 0}function t(t){return dims=a(t),dims.width/dims.height}function e(e,s){var n=e.getContext("2d"),i=a(e),r=a(s),l=t(e),o=t(s);if(o>l){var c=r.width*(i.height/r.height),h=(i.width-c)/2;n.drawImage(s,h,0,c,i.height)}else if(o<aspectCavnas){var d=r.height*(i.width/r.width),h=(i.height-d)/2;n.drawImage(s,0,h,i.width,d)}else n.drawImage(s,0,0,i.width,i.height)}return{drawCover:e}}();!function(a){"use strict";function t(a,t,r,l,o){var c=new Uint8Array(t*r*4);e(a,c,t,r,l),n(c,a,t,r,l),s(a,c,t,r,l),i(c,a,t,r,l),void 0!==o&&1!==o&&saturate(a,t,r,o)}function e(a,t,e,s,n){var i,r,l,o,c,h,d,u,v,g=n<<2,m=e<<2;for(r=0;s>r;r++){for(h=0,d=0,u=0,v=0,l=r*m,i=0;n>i;i++)o=l+(i<<2),h+=a[o],d+=a[o+1],u+=a[o+2],v+=a[o+3],t[o]=h/(i+1)|0,t[o+1]=d/(i+1)|0,t[o+2]=u/(i+1)|0,t[o+3]=v/(i+1)|0;for(;e>i;i++)o=l+(i<<2),c=o-g,t[o]=h/n|0,t[o+1]=d/n|0,t[o+2]=u/n|0,t[o+3]=v/n|0,h+=a[o]-a[c],d+=a[o+1]-a[c+1],u+=a[o+2]-a[c+2],v+=a[o+3]-a[c+3]}}function s(a,t,e,s,n){var i,r,l,o,c,h,d,u,v,g=n<<2,m=e<<2;for(r=0;s>r;r++){for(h=0,d=0,u=0,v=0,l=r*m,i=e-1;i>=e-n;i--)o=l+(i<<2),h+=a[o],d+=a[o+1],u+=a[o+2],v+=a[o+3],t[o]=h/(e-i)|0,t[o+1]=d/(e-i)|0,t[o+2]=u/(e-i)|0,t[o+3]=v/(e-i)|0;for(;i>=0;i--)o=l+(i<<2),c=o+g,t[o]=h/n|0,t[o+1]=d/n|0,t[o+2]=u/n|0,t[o+3]=v/n|0,h+=a[o]-a[c],d+=a[o+1]-a[c+1],u+=a[o+2]-a[c+2],v+=a[o+3]-a[c+3]}}function n(a,t,e,s,n){var i,r,l,o,c,h,d,u,v,g=e<<2,m=g*n;for(i=0;e>i;i++){for(h=0,d=0,u=0,v=0,l=i<<2,r=0;n>r;r++)o=l+r*g,h+=a[o],d+=a[o+1],u+=a[o+2],v+=a[o+3],t[o]=h/(r+1)|0,t[o+1]=d/(r+1)|0,t[o+2]=u/(r+1)|0,t[o+3]=v/(r+1)|0;for(;s>r;r++)o=l+r*g,c=o-m,t[o]=h/n|0,t[o+1]=d/n|0,t[o+2]=u/n|0,t[o+3]=v/n|0,h+=a[o]-a[c],d+=a[o+1]-a[c+1],u+=a[o+2]-a[c+2],v+=a[o+3]-a[c+3]}}function i(a,t,e,s,n){var i,r,l,o,c,h,d,u,v,g=e<<2,m=g*n;for(i=0;e>i;i++){for(h=0,d=0,u=0,v=0,l=i<<2,r=s-1;r>=s-n;r--)o=l+r*g,h+=a[o],d+=a[o+1],u+=a[o+2],v+=a[o+3],t[o]=h/(s-r)|0,t[o+1]=d/(s-r)|0,t[o+2]=u/(s-r)|0,t[o+3]=v/(s-r)|0;for(;r>=0;r--)o=l+r*g,c=o+m,t[o]=h/n|0,t[o+1]=d/n|0,t[o+2]=u/n|0,t[o+3]=v/n|0,h+=a[o]-a[c],d+=a[o+1]-a[c+1],u+=a[o+2]-a[c+2],v+=a[o+3]-a[c+3]}}function r(a,e,s,n,i,r){var c=this,h=c.canvas,d=0|s,u=0|n,v=0|a,g=0|e;i=32*(0|i),i=Math.min(Math.max(i,32),256);var m=Math.max(0,Math.log(i)/Math.log(2)-3|0),f=i>>>m,p=h.width>>>m,w=h.height>>>m;o.drawImage(h,0,0,p,w);var C=o.getImageData(0,0,p,w);return t(C.data,p,w,f,r),o.putImageData(C,0,0),o.drawImage(l,0,0,p,w,0,0,h.width,h.height),c.drawImage(l,v,g,d,u,v,g,d,u),c}var l=document.createElement("canvas");l.width=screen.width,l.height=screen.height;var o=l.getContext("2d");return{blurRect:r}}(window),function(a){"use strict";function t(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function e(a,t){var e=s(a,t)?i:n;e(a,t)}var s,n,i;"classList"in document.documentElement?(s=function(a,t){return a.classList.contains(t)},n=function(a,t){a.classList.add(t)},i=function(a,t){a.classList.remove(t)}):(s=function(a,e){return t(e).test(a.className)},n=function(a,t){s(a,t)||(a.className=a.className+" "+t)},i=function(a,e){a.className=a.className.replace(t(e)," ")});var r={hasClass:s,addClass:n,removeClass:i,toggleClass:e,has:s,add:n,remove:i,toggle:e};"function"==typeof define&&define.amd?define(r):"object"==typeof exports?module.exports=r:a.classie=r}(window);var staticRoute="http://localhost:3030/static/",dropdown=function(a,t){window.addEventListener("mouseup",function(e){if(classie.has(t,"visible")&&!classie.has(e.target.parentElement,"dropdown-wrap")){var s=a.parentElement.querySelector(".btn-fx"),n=a.parentElement.querySelector(".btn");classie.remove(t,"visible"),classie.remove(s,"visible"),classie.remove(n,"gaussian-blur")}},!1),a.addEventListener("mouseover",function(a){var e=this.parentElement.querySelector(".btn-fx"),s=this.parentElement.querySelector(".btn");classie.has(t,"visible")||(classie.add(e,"visible"),classie.add(s,"gaussian-blur"))},!1),a.addEventListener("mouseup",function(a){classie.toggle(t,"visible")},!1),a.addEventListener("mouseout",function(a){var e=this.parentElement.querySelector(".btn-fx"),s=this.parentElement.querySelector(".btn");classie.has(t,"visible")||(classie.remove(e,"visible"),classie.remove(s,"gaussian-blur"))},!1)};void 0===!document.getElementById("upload-form")&&uploadImage(document.querySelector(".form-wrap")),splashImage=new Image,splashImage.src=window.UIAttributes.canvasImageURL,window.addEventListener("load",function(){var a=document.getElementsByClassName("splash-utility--icon");if(document.getElementById("splash")){splashCanvasCallback();var t=document.getElementById("splash")}document.getElementById("view-box")&&(viewBoxBlurCallback(),viewBoxLayoutHeaderDropdownCallback());for(var e=0;e<a.length;e++)StraylightUI.createBlurredOverlay(t,a[e],splashImage,80,4);var s=document.getElementById("layout-header--dropdown-target"),n=new dd(s,document.getElementById("layout-header--dropdown"));StraylightUI.createBlurredOverlay(splash,n.dropdown,splashImage,90,3);for(var i=document.getElementsByClassName("theme-target"),e=0;e<i.length;e++)i[e].addEventListener("click",function(a){a.preventDefault();var t=document.getElementsByClassName("themed"),s=this.className.split(" "),n=s.filter(function(a){return 0===a.indexOf("theme-target--")});if(n=n[0].substr(14,n[0].length),"snow"==n)for(e=0;e<t.length;e++)classie.remove(t[e],"theme-midnight"),classie.add(t[e],"theme-snow"),console.log(t[e]);else for(e=0;e<t.length;e++)classie.remove(t[e],"theme-snow"),classie.add(t[e],"theme-midnight"),console.log(t[e])})}),window.addEventListener("resize",function(){splashCanvasResizeCallback()});var subheader=document.querySelector("#splash-nav"),bottomWrap=document.querySelector(".splash .wrap.bottom"),splashOverlay=document.getElementById("splash-overlay"),splashOverlayWrap=document.querySelector("#splash-overlay .wrap"),splashCanvas=document.getElementById("splashCanvas"),splashCtx=splashCanvas.getContext("2d"),splashImage=new Image,splashContainer=document.getElementById("splashContainer"),splashDims=Util.getDims(splashContainer);splashImage.src=splashBGURL;var splashBlur;window.addEventListener("load",function(){function a(){CanvasUtil.createRoundedRect(splashCtx,o,l,150,40,3),splashCtx.rect(0,0,splashDims.width,subheader.offsetHeight),splashCtx.clip(),splashCtx.drawImage(i.canvas,0,0)}function t(){for(var a=CanvasUtil.createCanvas(splashDims.width,splashDims.height),t=0;t<s.length-1;t++){0==t?a.ctx.drawImage(splashCanvas,0,0):a.ctx.putImageData(s[t].id,0,0),a.ctx.rect(0,0,splashDims.width,subheader.offsetHeight),CanvasUtil.createRoundedRect(splashCtx,o,l,150,40,3),a.ctx.clip(),a.ctx.drawImage(i.canvas,0,0);var e={id:a.ctx.getImageData(0,0,splashDims.width,splashDims.height),tx:0,ty:0};splashBlur.updateBlurStack(t,e)}}var e=setTimeout(function(){var a=Array.prototype.slice.call(document.getElementsByClassName("compensator"));for(h in a)classie.add(a[h],"loaded");clearTimeout(e)},1500);splashOverlay.style.top=subheader.offsetHeight+"px",setCanvasToContainerDims(splashCanvas,splashContainer),canvasIP.drawCover(splashCanvas,splashImage),splashBlur=new blurFx,stackBlurCallback=function(a){return stackBlurCanvasRGB("splashCanvas",0,0,splashDims.width,splashDims.height,a)},splashBlur.createEnv(splashCanvas,100,stackBlurCallback);var s=splashBlur.getBlurStack(),n=s[s.length-1].id,i=CanvasUtil.createCanvas(splashDims.width,splashDims.height,n),r=Util.callAfterFinalResize(),l=bottomWrap.offsetTop,o=bottomWrap.offsetLeft+parseInt(window.getComputedStyle(bottomWrap,null).getPropertyValue("padding-left").slice(0,-2));a(),t();var c=document.querySelector(".js-closeSplashOverlay");SplashOverlay.attachEvent("click",uploadImagesButton,"This is some content"),SplashOverlay.attachEvent("click",c);var h=(new galleryBlur("gallery-thumbnail-fx-1"),new galleryBlur("gallery-thumbnail-fx-2"),new galleryBlur("gallery-thumbnail-fx-3"));new galleryBlur("gallery-thumbnail-fx-4"),new galleryBlur("gallery-thumbnail-fx-5"),new galleryBlur("gallery-thumbnail-fx-6"),new galleryBlur("gallery-thumbnail-fx-7"),new galleryBlur("gallery-thumbnail-fx-8"),new galleryBlur("gallery-thumbnail-fx-9"),new galleryBlur("gallery-thumbnail-fx-10"),new galleryBlur("gallery-thumbnail-fx-11"),new galleryBlur("gallery-thumbnail-fx-12");window.addEventListener("resize",function(){SplashOverlay.isOpen()||(setCanvasToContainerDims(splashCanvas,splashContainer),canvasIP.drawCover(splashCanvas,splashImage),newSplashDims=Util.getDims(splashContainer),splashDims=Util.getDims(splashContainer),l=bottomWrap.offsetTop,o=bottomWrap.offsetLeft+parseInt(window.getComputedStyle(bottomWrap,null).getPropertyValue("padding-left").slice(0,-2)),newStackBlurCallback=function(a){return stackBlurCanvasRGB("splashCanvas",0,0,newSplashDims.width,newSplashDims.height,a)},r.createEnv(function(){splashBlur.createEnv(splashCanvas,150,newStackBlurCallback),s=splashBlur.getBlurStack(),n=s[s.length-1].id,i=CanvasUtil.createCanvas(splashDims.width,splashDims.height,n),a(),t()},250),r.execute())})});var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],StraylightUI=function(){function a(){this.log=function(){console.log(this)}}function t(a,t){var e=a.getBoundingClientRect().left-t.getBoundingClientRect().left,s=a.getBoundingClientRect().top-t.getBoundingClientRect().top,n=a.getBoundingClientRect().right-t.getBoundingClientRect().right,i=a.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom;return{left:e,top:s,right:n,bottom:i}}function e(a,t){var e=new EasyCanvas;return e.canvas.width=Math.ceil(a.width/8),e.canvas.height=Math.ceil(a.height/8),e.ctx.drawImage(a,0,0,e.canvas.width,e.canvas.height),1>t/8?e:(e.blur("stackblur",t/8|0),e.cacheImageData(),e)}function s(a,t,s){var n=new EasyCanvas,i=e(a,t),r=a.parentNode.parentNode;void 0!==s&&i.saturate(s),n.canvas.width=r.offsetWidth,n.canvas.height=r.offsetHeight,n.canvas.style.position="absolute",n.canvas.style.top="0",n.canvas.style.left="0",n.canvas.style.borderRadius="3px",n.ctx.drawImage(i.canvas,0,0,n.canvas.width,n.canvas.height),r.insertBefore(n.canvas,r.firstChild)}function n(a,t,e){var s=new EasyCanvas;return s.canvas.width=t,s.canvas.height=e,s.drawCover(a),s}function i(a,e){var s=t(a,e),n=e.offsetWidth-s.left-s.right,i=e.offsetHeight-s.top-s.bottom,r=0,l=0,o=e.offsetWidth-s.left-s.right,c=e.offsetHeight-s.top-s.bottom;return{sx:s.left,sy:s.top,sWidth:n,sHeight:i,dx:r,dy:l,dWidth:o,dHeight:c}}function r(a,t,e){var s=new EasyCanvas;s.styleAsBackground(t),"IMG"===e.nodeName&&(e=n(e,a.offsetWidth,a.offsetHeight).canvas);var r=i(t,a);console.log(s),s.ctx.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}function l(a,t,s,r,l,o,c){var h=new EasyCanvas;h.styleAsBackground(t),"IMG"===s.nodeName&&(s=n(s,a.offsetWidth,a.offsetHeight).canvas);var d=e(s,r);d.cacheImageData(),void 0!==l&&d.saturate(l),void 0!==o&&d.contrast(o),void 0!==c&&d.lighten(c);var u=i(t,a);h.ctx.drawImage(d.canvas,u.sx/8|0,u.sy/8|0,u.sWidth/8|0,u.sHeight/8|0,u.dx,u.dy,u.dWidth,u.dHeight)}return{blurredOverlay:a,createBlurredTempCanvas:e,createOverlay:r,createBlurredOverlay:l,createBoardImageBlurredOverlay:s}}(),theme=function(){function a(a){return(a instanceof NodeList||a instanceof HTMLCollection)&&(a=Array.prototype.slice.call(a,0)),a}function t(t){t=a(t),o=o.concat(t)}function e(t){t=a(t),c=c.concat(t)}function s(a,t,e){l.push(a),a.addEventListener(t,function(){for(var a in o)for(var t in c)classie.has(c[t],"theme-"+o[a])&&classie.remove(c[t],"theme-"+o[a]),classie.add(c[t],e)})}function n(){return l}function i(){return o}function r(){return c}var l=[],o=[],c=[];return{addThemes:t,addThemedElements:e,addToggle:s,getToggles:n,getThemes:i,getThemedElements:r}}(),viewBoxCanvas=new EasyCanvas,tmpCanvas=new EasyCanvas,dropdownCanvas=new EasyCanvas,dropdownTmpCanvas=new EasyCanvas;viewBoxCanvas.canvas.setAttribute("id","view-box--canvas"),tmpCanvas.canvas.setAttribute("id","view-box--canvas-tmp"),dropdownCanvas.canvas.setAttribute("id","layout-header--dropdown-canvas"),dropdownTmpCanvas.canvas.setAttribute("id","layout-header--dropdown-canvas-tmp"),window.addEventListener("resize",function(){var a=document.getElementById("view-box");viewBoxCanvas.sizeTo(a),viewBoxCanvas.drawCover(tmpCanvas.canvas)});