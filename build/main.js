function LightCanvas(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.tempCanvas=void 0,this.imageData=void 0}LightCanvas.prototype.createCanvas=function(t,a,i,e,h){var s,n,o;void 0!==i&&(s=i.data||i),n=document.createElement("canvas"),o=n.getContext("2d"),n.width=t,n.height=a,o.putImageData(i,e,h),this.canvas=n,this.ctx=o},LightCanvas.prototype.replaceCanvas=function(t){this.canvas=t,this.ctx=t.getContext("2d")},LightCanvas.prototype.resize=function(t,a){this.canvas.width=t,this.canvas.heght=a},LightCanvas.prototype.resizeTo=function(t){this.canvas.width=t.offsetWidth,this.canvas.height=t.offsetHeight},LightCanvas.prototype.styleAsBackground=function(t,a){this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.resizeTo(t),t.insertBefore(this.canvas,t.firstChild),this.drawCover(a)},LightCanvas.prototype.createCanvasAndResizeTo=function(t,a,i){var e=this.canvas.parentNode,h={width:e.offsetWidth,height:e.offsetHeight};createCanvas(h.width,h.height,t,a,i)},LightCanvas.prototype.putImageData=function(t,a,i){this.ctx.putImageData(t,a,i),this.imageData=t},LightCanvas.prototype.cacheImageData=function(){this.imageData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},LightCanvas.prototype.drawImage=function(t,a,i){this.ctx.drawImage(t,a,i),this.imageData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},LightCanvas.prototype.draw=function(t){this.ctx.drawImage(t,0,0),this.imageData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},LightCanvas.prototype.getDimensions=function(t){return"IMG"===t.nodeName?{width:t.naturalWidth,height:t.naturalHeight}:"CANVAS"===t.nodeName?{width:t.width,height:t.height}:void 0},LightCanvas.prototype.getAspectRatio=function(t){return dims=getDimensions(t),dims.width/dims.height},LightCanvas.prototype.drawCoverP=function(t,a){var i,e,h=t.getContext("2d"),s=getDimensions(t),n=(getDimensions(a),getAspectRatio(t)),o=getAspectRatio(a);o>n?(e=imgDims.width*(s.height/imgDims.height),i=(s.width-e)/2,h.drawImage(img,i,0,e,s.height)):n>o?(scaledHeight=imgDims.height*(s.width/imgDims.width),i=(s.height-scaledHeight)/2,h.drawImage(img,0,i,s.width,scaledHeight)):h.drawImage(img,0,0,s.width,s.height)},LightCanvas.prototype.drawCover=function(t){drawCoverP(this.canvas,img),this.imageData=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)},LightCanvas.prototype.createRoundedRect=function(t,a,i,e,h,s){var n={x:a+s,y:i+s},o={x:a+e-s,y:i+s},g={x:a+e-s,y:i+h-s},r={x:a+s,y:i+h-s};t.save(),t.beginPath(),t.moveTo(n.x,i),t.lineTo(o.x,i),t.arc(o.x,o.y,s,1.5*Math.PI,0),t.lineTo(a+e,g.y),t.arc(g.x,g.y,s,0,.5*Math.PI),t.lineTo(r.x,i+h),t.arc(r.x,r.y,s,.5*Math.PI,Math.PI),t.lineTo(a,o.y),t.arc(n.x,n.y,s,Math.PI,1.5*Math.PI),t.closePath()},LightCanvas.prototype.saturateP=function(t,a,i,e){var h;h=t.data||t;var s,n,o,g,r=.3*(1-a),c=.6*(1-a),v=.1*(1-a);s=void 0===i&&void 0===e?h.length/4:i*e;for(var d=0;s>d;d++){var p=d<<2;n=h[p],o=h[p+1],g=h[p+2],h[p]=(r+a)*n+c*o+v*g,h[p+1]=r*n+(c+a)*o+v*g,h[p+2]=r*n+c*o+(v+a)*g}return t},LightCanvas.prototype.saturate=function(t,a,i){var e=this.saturateP(this.imageData,t,a,i);this.ctx.putImageData(e,0,0)},LightCanvas.prototype.contrastP=function(t,a){for(var i=t.data,e=259*(a+255)/(255*(259-a)),h=0;h<i.length;h+=4)i[h]=e*(i[h]-128)+128,i[h+1]=e*(i[h+1]-128)+128,i[h+2]=e*(i[h+2]-128)+128;return t},LightCanvas.prototype.contrast=function(t){var a=this.contrastP(this.imageData,t);this.ctx.putImageData(a,0,0)},LightCanvas.prototype.blur=function(t,a){var i=this.canvas;if("stackblur"===t){var e=stackBlurCanvasRGB(i,0,0,i.width,i.height,a);this.ctx.putImageData(e.id,0,0),this.imageData=e.id}},LightCanvas.prototype.lightenP=function(t,a){for(var i=t.data,e=0;e<i.length;e+=4)i[e]+=a,i[e+1]+=a,i[e+2]+=a;return t},LightCanvas.prototype.lighten=function(t){var a=this.lightenP(this.imageData,t);this.ctx.putImageData(a,0,0)};var whatever=new EC;console.log(whatever);